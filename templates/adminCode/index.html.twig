{% extends 'admin.html.twig' %}

{% block title %}GÃ©rer les Codes{% endblock %}

{% block body %}
    <main>
        <h1  class="text-center text-5xl font-semibold text-indigo-500">Les Codes</h1>
        <br>
        <br>
        <br>
        
        
        <table class="border-collapse border border-slate-500..."  >
            <thead>
                <tr>
                    <th class="border border-slate-600..." width="500px" height="50px">
                        Nom
                    </th>
                    <th class="border border-slate-600..." width="100px" >
                        Inheritance
                    </th>
                    <th class="border border-slate-600..." width="150px">
                        Type
                    </th>
                    <th class="border border-slate-600..." width="500px" height="50px">
                        Action
                    </th>
                </tr>
            </thead>
            <tbody>
            {% for code in codes %}
                
                <tr>
                    <td class="border border-slate-700... " width="300px" height="50px">
                        {{code.name}}
                    </td>
                    <td class="border border-slate-700...">
                        {{code.inheritance}}
                    </td>
                    <td class="border border-slate-700..." width="200px">
                        {{code.type}}
                    </td>
                    <td class="border border-slate-700..."> 
                        <a href="{{path('adminCode.edit', {id: code.id})}}"  class="px-4 py-1 text-sm text-purple-600 font-semibold rounded-full border border-purple-200
                         hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2">Editer</a>


                        <form method="post" action='{{path('adminCode.delete', {id: code.id})}}' style="display: inline-block;" onsubmit="return confirm('Etes-vous vraiment sure de vouloir supprimer ce code?')">
                            <input type='hidden' name='_method' value='DELET'/>
                            <input type='hidden' name='_token' value='{{csrf_token('delete' ~ code.id)}}'/>
                            <button class="px-4 py-1 text-sm text-red-600 font-semibold rounded-full border border-red-200 hover:text-white hover:bg-red-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2">Supprimer</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        <br>
        <br>
        <a href="{{path('adminCode.new')}}" class="px-10 py-2 text-sm text-purple-600 font-semibold rounded-full border border-purple-200 hover:text-white hover:bg-purple-600 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-offset-2" height="50px" style="margin-left: 80%; font-weight: bold;">Ajouter un nouveau Code</a>
        <!-- Content -->
    </main>
    <script src="https://cdn.tailwindcss.com"></script>
{% endblock %}



